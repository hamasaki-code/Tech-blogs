---
title: "Railsで初期データを登録する方法 – db:seed を解説"
date: "2025-07-26"
tags: ["Rails"]
---

# Railsで初期データを登録しよう！`rails db:seed` の使い方

Railsでアプリを作るとき、最初からお店やユーザーのデータを少しだけ入れておきたい場面がありますよね？  
そんなときに使えるのが `seeds.rb` と `rails db:seed` です！

この記事では、「種（seed）ってなに？」というところから、  
**初期データを自動で登録する方法をやさしく解説**します。

---

## 🌱 `seed`ってなに？

英語の「seed」は「種」のこと。  
**「アプリを育てるための最初のデータ（タネ）をまく」**という意味で、`seeds.rb` というファイルに書きます。

このファイルを使うと、

- 開発時にデータを自動で入れられる
- テスト用のデータを毎回手で入力しなくてすむ

などの便利な効果があります！

---

## 📂 ファイルの場所

初めから用意されているこのファイルを編集します：

```
db/seeds.rb
```

---

## ✏️ 実際に書いてみる

たとえば「Shop」というお店のモデルがあるとき、`seeds.rb` にこう書きます：

```ruby
Shop.create!([
  {
    name: "焼肉 太郎",
    genre: "焼肉",
    area: "渋谷",
    address: "東京都渋谷区1-2-3",
    url: "https://example.com/yakiniku1"
  },
  {
    name: "ラーメン次郎",
    genre: "ラーメン",
    area: "新宿",
    address: "東京都新宿区4-5-6",
    url: "https://example.com/ramen1"
  }
])
```

💡 `create!` の `!` は「失敗したらエラーを出して止めてね」という意味。  
気づかずにエラーを通さないようにできます。

---

## 🚀 データを登録するコマンド

`seeds.rb` に書いた内容を実際にデータベースに入れるには、次のコマンドを実行します：

```bash
rails db:seed
```

これだけで、Shopテーブルに2件のお店情報が登録されます 🎉

---

## ✅ 登録されたか確認する方法

```bash
rails console
```

と入力して、以下のように確認できます：

```ruby
Shop.all
# => [#<Shop id: 1, name: "焼肉 太郎" ... >, #<Shop id: 2, name: "ラーメン次郎" ... >]
```

ちゃんとデータが入っていればOKです！

---

## 🔁 よく使う関連コマンド

| 操作                     | コマンド                                     |
| ------------------------ | -------------------------------------------- |
| データだけ初期化         | `rails db:seed:replant`                      |
| DB全体をリセット＋seed   | `rails db:reset`                             |
| seed前に既存データを削除 | `Shop.delete_all` を `seeds.rb` の最初に書く |

---

## 💡 よくある注意点

- `rails db:seed` は何度でも実行できる（ただし、同じデータが増えていくので注意）
- データを上書きしたいときは、最初に `.delete_all` を入れる
- `create!` で失敗すると止まってくれるので安心

---

## ✨ まとめ

- `seeds.rb` は初期データを書くファイル
- `rails db:seed` でその内容を登録できる
- 開発中のテストや画面確認がめちゃくちゃラクになる！

---

## 📘 次に読むとよさそうな記事

- [Railsでモデルとテーブルを作る方法（マイグレーション）](#)
- [Next.jsとRails APIでデータを取得して表示する](#)
- [ActiveRecordでデータを検索・更新する方法](#)

---

初期データを入れておくと、**画面やUIを試すときに便利**です。  
ぜひ `rails db:seed` を使って、楽しく開発を進めていきましょう！


---
title: "Railsでテーブルの作成方法"
date: "2025-07-26"
tags: ["Rails"]
---

# Railsでテーブルの作成方法

Railsで開発をしていると、「モデルを作る」「マイグレーションを実行する」といった言葉がよく出てきます。
この記事では、**「テーブルを作るってなに？」** **「マイグレーションってなに？」** というところから、
実際の流れまでを解説します。

## 🏗 そもそも「テーブルを作る」って？

アプリの中で「お店の情報」や「ユーザーの情報」を保存しておきたいとき、
そのデータは**データベース**という箱の中に入ります。

このとき、データの種類ごとに使うのが「テーブル」というものです。
学校の名簿で言えば、1行が1人のデータで、列が「名前」「出席番号」などのイメージです。

## 🔧 どうやって作るの？

Railsでは、テーブルを作るために次のコマンドを使います：

```bash
rails g model Shop name:string genre:string area:string address:string url:string
```

### 💡 このコマンドの意味

| 部分             | 意味                                               |
| ---------------- | -------------------------------------------------- |
| `rails g model`  | モデル（データの型）を作る命令                     |
| `Shop`           | 作りたいテーブルの名前（Shopという名前のテーブル） |
| `name:string`    | 「name」という文字列データを持つカラム（列）を作る |
| `genre:string`   | 「ジャンル」も文字列で登録                         |
| `area:string`    | 「地域」も文字列で登録                             |
| `address:string` | 住所                                               |
| `url:string`     | お店のURL                                          |

このコマンドを実行すると、**「マイグレーションファイル」**というものが作られます。

## 🗂 「マイグレーション」って何？

マイグレーションとは、**データベースに対する変更を記録しておくファイルのこと**です。

- どんなテーブルを作るか
- どんなカラム（項目）があるか
- いつ変更されたか

などが書かれています。

📂 ファイルの場所：
`db/migrate/20250721000000_create_shops.rb` ← こんな名前のファイルが自動でできます
（※数字部分は実行した日時によって異なります）

## 🚀 テーブルを実際に作るには？

次のコマンドを実行すると、マイグレーションファイルの内容をもとに
**本当にデータベースにテーブルが作られます**：

```bash
rails db:migrate
```

これで、アプリの中に「shops」というテーブルができました！

## 🧪 ちゃんとできたか確認するには？

```bash
rails console
```

と入力して、以下のように確認できます：

```ruby
Shop.new
# => #<Shop id: nil, name: nil, genre: nil, area: nil, address: nil, url: nil ... >
```

これが表示されれば、ちゃんとテーブルが作られています 🎉

## 🔁 よくある操作とコマンドまとめ

| 操作                                   | コマンド                                 |
| -------------------------------------- | ---------------------------------------- |
| モデルを作る                           | `rails g model モデル名 カラム名:型 ...` |
| マイグレーションを実行                 | `rails db:migrate`                       |
| データベースを初期化（全削除＆再作成） | `rails db:reset`                         |
| seeds.rbを使って初期データを入れる     | `rails db:seed`                          |

## 📘 まとめ

- 「テーブル」はデータをしまうための箱
- 「マイグレーション」はその箱を作るための設計図
- `rails g model` で設計図を作り、`rails db:migrate` で実際に反映
- コマンドは最初はよくわからなくても、「何をするのか」だけ覚えれば大丈夫！

「migration って読み方も分からなかった…」という人も、
この記事でなんとなく雰囲気がつかめたらOKです🙆‍♂️
少しずつ慣れていけば大丈夫！
